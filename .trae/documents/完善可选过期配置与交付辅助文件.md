## 审核结论（代码功能）
- 已完成：
  - 认证：持久连接、并发会话、校验 authorize（app/server/acceptor.go），客户端单连接（tcp/client.go）。
  - 任务分发：每 30 秒更新 nonce、递增 job_id、广播、维护每会话最新 nonce、历史记录（app/server/coordinator.go, app/server/types.go）。
  - 客户端：收到 job 立即计算并提交；随后遵循最多 1 次/秒、最少 1 次/分钟（app/client/client.go）。
  - 结果校验与限速：校验 job_id/nonce/结果、1 秒限速、重复 client_nonce 检测、错误响应（app/server/listener.go）。
  - 统计收集：事件发布到 MQ，服务端后台订阅并按分钟聚合写入 PG（app/server/server.go, stats/pg.go）。
  - 消息处理器：RabbitMQ 集成，持久队列与消息 ACK，服务端重启可恢复未处理消息（mq/rabbitmq.go）。
- 待完善（可选/交付项）：
  - 任务过期：代码已支持（expireAfter）但未暴露配置，默认禁用。
  - 交付辅助：README 与 docker-compose（RabbitMQ + Postgres）未提供；示例 compose 中使用 mysql 与 Postgres 环境变量不一致。

## 拟实施方案
1. 暴露任务过期配置
  - 在 `cmd/kupool-server/main.go` 增加 `-expire` 与 `KUP_EXPIRE`（秒），传递到 `NewCoordinator(..., expire)`。
  - 将 `server.NewAppServer` 增参支持 `expire` 并向下传递。
2. 提供标准 docker-compose（不改业务代码）
  - 新增 `docker-compose.yaml`：RabbitMQ（management）、PostgreSQL（正确环境变量与端口），声明持久卷。
  - 在 README 中说明 `KUP_MQ=rabbit`、`KUP_MQ_URL`、`KUP_MQ_QUEUE`、`KUP_STORE=pg`、`KUP_PG_DSN` 的示例配置。
3. 交付文档
  - 新增 README：构建运行步骤、环境变量、速率/错误用例说明、并发测试指引。

## 验证
- 编译与本地联调：`go build ./...`；启用过期开关测试 "Task expired"；并发与速率/重复错误用例回归。